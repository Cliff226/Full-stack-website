<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoalRush</title>
    <link rel="stylesheet" href="public/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <header class = "header">
        <nav> 
            {{ include('navigation.html.twig') }}     
        </nav>
    </header>
    <main class = "main">

        <div class="pageTitle" id="SearchedTeamContainer">
             <h1 class="mt-4">Search Result for {{ teamData.team_name }}</h1>
             <p>Here is the information for the team you searched for, including season matches and league standings.</p>
        </div>

        <section id="searchedTeamInfo" class="mt-4">
            <h2> <img src="{{ teamData.crest }}" width="50" alt="logo"> {{ teamData.team_name }} </h2>            
            <p>
                <strong>{{ teamData.team_name}} </strong> plays in the <strong>{{ leagueName }}</strong>.
                and is currently positioned <strong> {{ teamData.position }}</strong> in the standings.
                with <strong>{{ teamData.points  }}</strong> points.
                and a goal difference of <strong>{{ teamData.goal_diff }}</strong>.
            </p>
        </section>
        <div id="LiveScoresMatches"> 
            {% for comps in groupedMatches %}
                <div id="country-section">
                <h2 class="mt-4"><h2>This are Matches for {{ teamData.team_name }} in the {{ country }}</h2>

                {% for comp, matches in comps %}
                    <h4 class="mt-3">{{ comp }}</h4>

                    <table class="table table-striped table-dark table-hover mt-2">
                        <thead>
                            <tr>
                                <th>Home</th>
                                <th>Away</th>
                                <th>Score</th>
                                <th>Minute</th>
                                <th>Kickoff</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for m in matches %}
                                <tr>
                                    <td><img class="scoreteamCrest" src="{{ m.homeTeamCrest }}"  alt="logo"> {{ m.homeTeam.name }}</td>
                                    <td><img class="scoreteamCrest" src="{{ m.awayTeamCrest }}" alt="logo"> {{ m.awayTeam.name }}</td>
                                    <td>{{ m.score.fullTime.home }} - {{ m.score.fullTime.away }}</td>
                                    <td>{{ m.minute }}</td>
                                    <td>{{ m.utcDate|date("H:i") }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table><br>

                {% endfor %}
                </div>
            {% endfor %}
        </div>
        <div  id="standingsContainer">
            <h1 class="mt-4">
                Standings - {{ leagueName }}
                <img id='leagueCrest' src="{{ leagueCrest }}" alt="{{ leagueName }} logo">
            <h1>

            <table class="table table-striped table-dark table-hover mt-4">
                <tr>
                    <th>#</th>
                    <th>Team</th>
                    <th>P</th>
                    <th>W</th>
                    <th>D</th>
                    <th>L</th>
                    <th>Pts</th>
                    <th>GF</th>
                    <th>GA</th>
                    <th>GD</th>
                </tr>

                {% for team in standings %}
                <tr>
                    <td>{{ team.position }}</td>
                    <td><img class='scoreteamCrest' src="{{ team.crest }}"alt="logo"> {{ team.team_name }}</td>
                    <td>{{ team.played }}</td>
                    <td>{{ team.won }}</td>
                    <td>{{ team.draw_matches }}</td>
                    <td>{{ team.lost }}</td>
                    <td>{{ team.points }}</td>
                    <td>{{ team.goals_for }}</td>
                    <td>{{ team.goals_against }}</td>
                    <td>{{ team.goal_diff }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </main>
    <footer class = "footer">
        <p>Copyright Â© 2025</p>
    </footer>
</body>
</html>